# Dockerfile
FROM node:20-alpine
WORKDIR /app

ARG PORT
ARG JWT_SECRET 
ARG REFRESH_TOKEN_SECRET
ARG POSTGRES_URL


ENV PORT=$PORT
ENV JWT_SECRET=$JWT_SECRET
ENV REFRESH_TOKEN_SECRET=$REFRESH_TOKEN_SECRET
ENV POSTGRES_URL=$POSTGRES_URL


COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 6001
CMD ["npm", "start"]
