# Dockerfile
FROM node:20-alpine
WORKDIR /app

ARG PORT
ARG MONGO_URI
ARG CATEGORY_SERVICE_URL
ARG CATEGORY_GRPC_ADDRESS

ENV PORT=$PORT
ENV MONGO_URI=$MONGO_URI
ENV CATEGORY_SERVICE_URL=$CATEGORY_SERVICE_URL
ENV CATEGORY_GRPC_ADDRESS=$CATEGORY_GRPC_ADDRESS

COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 6003
CMD ["npm", "start"]
